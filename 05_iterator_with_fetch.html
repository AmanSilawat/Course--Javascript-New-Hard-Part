<!DOCTYPE html>
<html>
<head>
	<title>Iterator with Fetch</title>
</head>
<body>
<script>

// 1. ---------

// function createFlow(array) {
// 	let i = 0;
// 	const inner = {
// 		next: function() {
// 			const element = array[i];
// 			i++;
// 			return element;
// 		}
// 	}
// 	return inner;
// }
// const returnNextElement = createFlow([4, 5, 6]);
// const element1 = returnNextElement.next();
// const element2 = returnNextElement.next();
// console.log(element1, element2);



// 2. ---------

// function *createFlow() {
// 	yield 4;
// 	yield 5;
// 	yield 6;
// }

// const returnNextElement = createFlow();
// const element1 = returnNextElement.next(); //{value: 4, done: false}
// const element2 = returnNextElement.next(); //{value: 5, done: false}
// const element3 = returnNextElement.next(); //{value: 6, done: false}
// const element4 = returnNextElement.next(); //{value: undefined, done: true}
// console.log(element1, element2, element3, element4);



// 3. ---------

// function *createFlow() {
// 	const num = 10;
// 	const newNum = yield num;
// 	yield 5 + newNum;
// 	yield 6;
// }

// const returnNextElement = createFlow();
// const element1 = returnNextElement.next(); //10  {value: 10, done: false}
// const element2 = returnNextElement.next(2); //7  {value: 7, done: false}
// const element3 = returnNextElement.next(); //7   {value: 6, done: false}
// const element4 = returnNextElement.next(); //7   {value: undefined, done: true}
// console.log(element1, element2, element3, element4)



// 4. ---------
function doWhenDataReceived(value) {
	returnNextElement.next(value);
}

function *createFlow() {
	const data = yield fetch("https://twitter.com/will/tweets/1");
	console.log( data );
}

const returnNextElement = createFlow();
const futureData = returnNextElement.next();

futureData.then(doWhenDataReceived);


</script>
</body>
</html>